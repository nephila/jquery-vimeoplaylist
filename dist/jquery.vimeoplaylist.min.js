/*! jquery.vimeoplaylist v0.1.0 | MIT */
!function(a){function b(b,e){this.element=b,this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="vimeoplaylist",d={startFrom:0,startTime:0,videoList:[],volume:-1,onVideoFinish:function(){},onVideoStart:function(){}};a.extend(b.prototype,{init:function(){function b(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function c(){}function d(){var b=f._currentVideo%f._videos.length;a(f.element).trigger("videoend",[b,f.settings.videoList[b]]),f.settings.onVideoFinish.call(f.element,b,f.settings.videoList[b]),f._currentVideo++,f._iframe.attr("src",f._videos[f._currentVideo%f._videos.length]),f._firstPlay=!1}function e(){if(b()&&f._firstPlay){var c=f._currentVideo%f._videos.length;a(f.element).trigger("videostart",[c,f.settings.videoList[c]]),f.settings.onVideoStart.call(f.element,c,f.settings.videoList[c]),f._player.api("seekTo",f.settings.startTime),f._firstPlay=!1}}var f=this;this._videos=[],this._firstPlay=!0;for(var g="",h=0;h<this.settings.videoList.length;h++)g=this.settings.videoList[h].hasOwnProperty("vimeoid")?this.settings.videoList[h].vimeoid:this.settings.videoList[h],this._videos.push("//player.vimeo.com/video/"+g+"?api=1&player_id="+f.element.id);this._currentVideo=this.settings.startFrom,this._currentVideo>=this._videos.length&&(this._currentVideo=this._videos.length-1),this._iframe=a(this.element),this._iframe.attr("src",this._videos[this._currentVideo%this._videos.length]),this._player=$f(a(this.element)[0]),this._player.addEvent("ready",function(){if(f._player.addEvent("pause",c),f._player.addEvent("playProgress",e),f._player.addEvent("finish",d),-1!==f.settings.volume&&f._player.api("setVolume",f.settings.volume),b());else{f._player.api("play"),f._firstPlay&&f._player.api("seekTo",f.settings.startTime);var g=f._currentVideo%f._videos.length;a(f.element).trigger("videostart",[g,f.settings.videoList[g]]),f.settings.onVideoStart.call(f.element,g,f.settings.videoList[g])}})},startVideo:function(b){var c=this._currentVideo%this._videos.length;a(this.element).trigger("videoend",[c,this.settings.videoList[c]]),this.settings.onVideoFinish.call(this.element,c,this.settings.videoList[c]),this._currentVideo=b,this._iframe.attr("src",this._videos[b%this._videos.length]),this._firstPlay=!1},getPlayer:function(){return this._player},getVolume:function(){return this.settings.volume}}),a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))}),this}}(jQuery);